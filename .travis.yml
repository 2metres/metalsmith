language: node_js
sudo: false

node_js:
  - "0.12"
  - "iojs"
  - "4"
  - "5"
  - "6"
  - "7"
  - "8"
  - "9"
  - "10"
  - "node"

matrix:
  allow_failures:
    - node_js: "node"

before_script:
  - export HARMONY_OPTS=$(node --v8-options | grep --only-matching -- '--harmony_generators')

script:
  - echo "---\nTRAVIS_NODE_VERSION = ${TRAVIS_NODE_VERSION}\n---"
  - if [ $TRAVIS_NODE_VERSION eq "10" ]; then npm run lint; fi
  - npm test

after_script:
  - npm run coveralls
